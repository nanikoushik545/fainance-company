<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>fainance company</title>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
  (function(){
    emailjs.init('JfCV6CqZydOg3lwE5'); // Your EmailJS public key
  })();
</script>

<style>
  
  body{
    background-image: url(./download.jpg);
    background-repeat: no-repeat;
    background-size: 100% 100%;
    backdrop-filter: blur(3px);
  }

:root {
    --color-white: rgba(255, 255, 255, 1);
    --color-cream-50: rgba(252, 252, 249, 1);
    --color-cream-100: rgba(255, 255, 253, 1);
    --color-gray-200: rgba(245, 245, 245, 1);
    --color-gray-300: rgba(167, 169, 169, 1);
    --color-slate-500: rgba(98, 108, 113, 1);
    --color-brown-600: rgba(94, 82, 64, 1);
    --color-charcoal-700: rgba(31, 33, 33, 1);
    --color-charcoal-800: rgba(38, 40, 40, 1);
    --color-slate-900: rgba(19, 52, 59, 1);
    --color-teal-300: rgba(50, 184, 198, 1);
    --color-teal-500: rgba(33, 128, 141, 1);
    --color-teal-600: rgba(29, 116, 128, 1);
    --color-teal-700: rgba(26, 104, 115, 1);
    --color-red-400: rgba(255, 84, 89, 1);
    --color-red-500: rgba(192, 21, 47, 1);

    --color-brown-600-rgb: 94, 82, 64;
    --color-teal-500-rgb: 33, 128, 141;
    --color-slate-900-rgb: 19, 52, 59;
    --color-red-500-rgb: 192, 21, 47;

    --color-background: var(--color-cream-50);
    --color-surface: var(--color-cream-100);
    --color-text: var(--color-slate-900);
    --color-text-secondary: var(--color-slate-500);
    --color-primary: var(--color-teal-500);
    --color-primary-hover: var(--color-teal-600);
    --color-primary-active: var(--color-teal-700);
    --color-border: rgba(var(--color-brown-600-rgb), 0.2);
    --color-btn-primary-text: var(--color-cream-50);
    --color-error: var(--color-red-500);
    --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);

    --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    --font-size-sm: 12px;
    --font-size-base: 14px;
    --font-size-lg: 16px;
    --font-size-xl: 18px;
    --font-size-2xl: 20px;
    --font-size-3xl: 24px;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 550;
    --font-weight-bold: 600;
    --line-height-normal: 1.5;
    --line-height-tight: 1.2;

    --space-4: 4px;
    --space-8: 8px;
    --space-12: 12px;
    --space-16: 16px;
    --space-20: 20px;
    --space-24: 24px;
    --space-32: 32px;

    --radius-base: 8px;
    --radius-lg: 12px;
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.04), 0 2px 4px -1px rgba(0,0,0,0.02);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.04), 0 4px 6px -2px rgba(0,0,0,0.02);
    --duration-normal: 250ms;
    --ease-standard: cubic-bezier(0.16,1,0.3,1);
}

@media (prefers-color-scheme: dark) {
    :root {
        --color-gray-200-rgb: 245, 245, 245;
        --color-gray-300-rgb: 167, 169, 169;
        --color-gray-400-rgb: 119, 124, 124;
        --color-teal-300-rgb: 50, 184, 198;
        --color-red-400-rgb: 255, 84, 89;

        --color-background: var(--color-charcoal-700);
        --color-surface: var(--color-charcoal-800);
        --color-text: var(--color-gray-200);
        --color-text-secondary: rgba(var(--color-gray-300-rgb),0.7);
        --color-primary: var(--color-teal-300);
        --color-primary-hover: rgba(var(--color-teal-300-rgb),0.9);
        --color-primary-active: var(--color-teal-500);
        --color-border: rgba(var(--color-gray-400-rgb),0.3);
        --color-btn-primary-text: var(--color-slate-900);
        --color-error: var(--color-red-400);
        --color-focus-ring: rgba(var(--color-teal-300-rgb),0.4);
    }
}

* {
    margin: 0; padding: 0; box-sizing: border-box;
}

html {
    font-size: var(--font-size-base);
    font-family: var(--font-family-base);
    line-height: var(--line-height-normal);
}

body {
    background-color: var(--color-background);
    color: var(--color-text);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: var(--space-20);
}

.login-container {
    width: 100%;
    max-width: 420px;
}

.login-card {
    background-color: var(--color-surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-lg);
    padding: var(--space-32);
    animation: fadeIn 0.5s var(--ease-standard);
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.login-header {
    text-align: center;
    margin-bottom: var(--space-32);
}

.login-title {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    color: var(--color-text);
    margin-bottom: var(--space-8);
}

.login-subtitle {
    font-size: var(--font-size-base);
    color: var(--color-text-secondary);
}

.form-group {
    margin-bottom: var(--space-20);
}

.form-label {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text);
    margin-bottom: var(--space-8);
}

.form-input {
    width: 100%;
    padding: var(--space-12);
    font-size: var(--font-size-base);
    font-family: var(--font-family-base);
    color: var(--color-text);
    background-color: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-base);
    transition: border-color var(--duration-normal) var(--ease-standard),
                box-shadow var(--duration-normal) var(--ease-standard);
}

.form-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px var(--color-focus-ring);
}

.form-input.error {
    border-color: var(--color-error);
}

.error-message {
    display: none;
    font-size: var(--font-size-sm);
    color: var(--color-error);
    margin-top: var(--space-4);
}

.error-message.show {
    display: block;
}

.form-options {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-24);
}

.checkbox-group {
    display: flex;
    align-items: center;
    gap: var(--space-8);
}

.checkbox-input {
    width: 16px;
    height: 16px;
    cursor: pointer;
}

.checkbox-label {
    font-size: var(--font-size-sm);
    color: var(--color-text);
    cursor: pointer;
}

.submit-btn {
    width: 100%;
    padding: var(--space-12);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    color: var(--color-btn-primary-text);
    background-color: var(--color-primary);
    border: none;
    border-radius: var(--radius-base);
    cursor: pointer;
    transition: background-color var(--duration-normal) var(--ease-standard),
                transform var(--duration-normal) var(--ease-standard);
}

.submit-btn:hover {
    background-color: var(--color-primary-hover);
}

.submit-btn:active {
    background-color: var(--color-primary-active);
    transform: scale(0.98);
}

.submit-btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px var(--color-focus-ring);
}

.submit-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.signup-link {
    text-align: center;
    margin-top: var(--space-24);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

.signup-link a {
    color: var(--color-primary);
    text-decoration: none;
    font-weight: var(--font-weight-medium);
    transition: color var(--duration-normal) var(--ease-standard);
}

.signup-link a:hover {
    color: var(--color-primary-hover);
}

.success-message {
    display: none;
    padding: var(--space-12);
    background-color: rgba(var(--color-teal-500-rgb), 0.1);
    border: 1px solid var(--color-primary);
    border-radius: var(--radius-base);
    color: var(--color-primary);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-20);
}

.success-message.show {
    display: block;
    animation: slideDown 0.3s var(--ease-standard);
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@media (max-width: 480px) {
    .login-card {
        padding: var(--space-24);
    }

    .login-title {
        font-size: var(--font-size-2xl);
    }

    .form-options {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-12);
    }
}
</style>

</head>
<body>
<div class="login-container">
  <div class="login-card" id="loginCard">
    <div class="login-header">
      <h1 class="login-title">Welcome</h1>
      <p class="login-subtitle">Please enter your credentials to continue</p>
    </div>

    <div id="successMessage" class="success-message"></div>

    <form id="loginForm" novalidate>
      <div class="form-group">
        <label for="email" class="form-label">Email Address</label>
        <input type="email" id="email" name="email" class="form-input" placeholder="you@example.com" required />
        <div id="emailError" class="error-message"></div>
      </div>

      <div class="form-group">
        <label for="password" class="form-label">Password</label>
        <input type="password" id="password" name="password" class="form-input" placeholder="Enter your password" required />
        <div id="passwordError" class="error-message"></div>
      </div>

      <div class="form-options">
        <div class="checkbox-group">
          <input type="checkbox" id="remember" name="remember" class="checkbox-input" />
          <label for="remember" class="checkbox-label">Remember me</label>
        </div>
      </div>

      <button type="submit" class="submit-btn">Sign In</button>
    </form>

    <div class="signup-link">
      Don't have an account? <a href="#" id="signupLink">Sign up</a>
    </div>
  </div>

  <div class="login-card" id="signupCard" style="display:none;">
    <div class="login-header">
      <h1 class="login-title">Create Account</h1>
      <p class="login-subtitle">Fill in your details to get started</p>
    </div>

    <div id="signupSuccessMessage" class="success-message"></div>

    <form id="signupForm" novalidate>
      <div class="form-group">
        <label for="signupName" class="form-label">Full Name</label>
        <input type="text" id="signupName" name="name" class="form-input" placeholder="John Doe" required />
        <div id="nameError" class="error-message"></div>
      </div>

      <div class="form-group">
        <label for="signupEmail" class="form-label">Email Address</label>
        <input type="email" id="signupEmail" name="email" class="form-input" placeholder="you@example.com" required />
        <div id="signupEmailError" class="error-message"></div>
      </div>

      <div class="form-group">
        <label for="signupPassword" class="form-label">Password</label>
        <input type="password" id="signupPassword" name="password" class="form-input" placeholder="Create a password" required />
        <div id="signupPasswordError" class="error-message"></div>
      </div>

      <div class="form-group">
        <label for="confirmPassword" class="form-label">Confirm Password</label>
        <input type="password" id="confirmPassword" name="confirmPassword" class="form-input" placeholder="Re-enter your password" required />
        <div id="confirmPasswordError" class="error-message"></div>
      </div>

      <button type="submit" class="submit-btn">Create Account</button>
    </form>

    <div class="signup-link">
      Already have an account? <a href="#" id="loginLink">Sign in</a>
    </div>
  </div>

  <div class="login-card" id="otpCard" style="display:none;">
    <div class="login-header">
      <h1 class="login-title">Verify OTP</h1>
      <p class="login-subtitle">Enter the 6-digit code sent to your email</p>
    </div>

    <div id="otpSuccessMessage" class="success-message"></div>

    <form id="otpForm" novalidate>
      <div class="form-group">
        <label for="otpInput" class="form-label">OTP Code</label>
        <input type="text" id="otpInput" name="otp" class="form-input" placeholder="Enter 6-digit code" maxlength="6" required style="text-align:center; font-size:24px; letter-spacing:8px;" />
        <div id="otpError" class="error-message"></div>
      </div>

      <button type="submit" class="submit-btn">Verify OTP</button>
    </form>

    <div class="signup-link">
      <a href="#" id="backToLogin">Back to login</a>
    </div>
  </div>
</div>

<script>
const form = document.getElementById('loginForm');
const signupForm = document.getElementById('signupForm');
const loginCard = document.getElementById('loginCard');
const signupCard = document.getElementById('signupCard');
const otpCard = document.getElementById('otpCard');
const signupLink = document.getElementById('signupLink');
const loginLink = document.getElementById('loginLink');
const backToLogin = document.getElementById('backToLogin');
const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const emailError = document.getElementById('emailError');
const passwordError = document.getElementById('passwordError');
const successMessage = document.getElementById('successMessage');
const signupNameInput = document.getElementById('signupName');
const signupEmailInput = document.getElementById('signupEmail');
const signupPasswordInput = document.getElementById('signupPassword');
const confirmPasswordInput = document.getElementById('confirmPassword');
const nameError = document.getElementById('nameError');
const signupEmailError = document.getElementById('signupEmailError');
const signupPasswordError = document.getElementById('signupPasswordError');
const confirmPasswordError = document.getElementById('confirmPasswordError');
const signupSuccessMessage = document.getElementById('signupSuccessMessage');
const otpInput = document.getElementById('otpInput');
const otpError = document.getElementById('otpError');
const otpSuccessMessage = document.getElementById('otpSuccessMessage');

function validateEmail(email) {
  const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return regex.test(email);
}
function showError(input, errorElement, message) {
  input.classList.add('error');
  errorElement.textContent = message;
  errorElement.classList.add('show');
}
function clearError(input, errorElement) {
  input.classList.remove('error');
  errorElement.textContent = '';
  errorElement.classList.remove('show');
}
function showSuccess(message) {
  successMessage.textContent = message;
  successMessage.classList.add('show');
  setTimeout(() => {
    successMessage.classList.remove('show');
  }, 3000);
}
emailInput.addEventListener('input', () => clearError(emailInput, emailError));
passwordInput.addEventListener('input', () => clearError(passwordInput, passwordError));
signupNameInput.addEventListener('input', () => clearError(signupNameInput, nameError));
signupEmailInput.addEventListener('input', () => clearError(signupEmailInput, signupEmailError));
signupPasswordInput.addEventListener('input', () => clearError(signupPasswordInput, signupPasswordError));
confirmPasswordInput.addEventListener('input', () => clearError(confirmPasswordInput, confirmPasswordError));
otpInput.addEventListener('input', () => {
  clearError(otpInput, otpError);
  otpInput.value = otpInput.value.replace(/[^0-9]/g, '');
});
function loadUsers() {
  return JSON.parse(localStorage.getItem('registeredUsers')) || [];
}
function saveUsers(users) {
  localStorage.setItem('registeredUsers', JSON.stringify(users));
}
let registeredUsers = loadUsers();
function sendOtpEmail(name, email, otp) {
  emailjs.send('service_pu1kt2o', 'template_vrq8sws', {
    name: name,
    email: email,
    passcode : otp

  })
  .then(() => console.log('OTP email sent.'))
  .catch(e => console.error('Email fail:', e));
}
form.addEventListener('submit', (e) => {
  e.preventDefault();
  let isValid = true;
  clearError(emailInput, emailError);
  clearError(passwordInput, passwordError);
  const email = emailInput.value.trim();
  const password = passwordInput.value.trim();
  if(email === '') {
    showError(emailInput, emailError, 'Email address is required');
    isValid = false;
  } else if(!validateEmail(email)) {
    showError(emailInput, emailError, 'Please enter a valid email address');
    isValid = false;
  }
  if(password === '') {
    showError(passwordInput, passwordError, 'Password is required');
    isValid = false;
  } else if(password.length < 6) {
    showError(passwordInput, passwordError, 'Password must be at least 6 characters');
    isValid = false;
  }
  if(isValid) {
    registeredUsers = loadUsers();
    const user = registeredUsers.find(u => u.email === email && u.password === password);
    if(user) {
      const otp = Math.floor(100000 + Math.random() * 900000).toString();
      sendOtpEmail(user.name, email, otp);
      showSuccess(`OTP has been sent to ${email}. Please check your email.`);
      sessionStorage.setItem('pendingOtp', otp);
      sessionStorage.setItem('pendingUser', JSON.stringify(user));
      setTimeout(() => {
        loginCard.style.display = 'none';
        signupCard.style.display = 'none';
        otpCard.style.display = 'block';
      }, 1000);
    } else {
      showError(emailInput, emailError, 'No account found. Please sign up first.');
      showError(passwordInput, passwordError, 'You entered wrong credentials or account does not exist');
    }
  }
});
signupForm.addEventListener('submit', (e) => {
  e.preventDefault();
  let isValid = true;
  clearError(signupNameInput, nameError);
  clearError(signupEmailInput, signupEmailError);
  clearError(signupPasswordInput, signupPasswordError);
  clearError(confirmPasswordInput, confirmPasswordError);
  const name = signupNameInput.value.trim();
  const email = signupEmailInput.value.trim();
  const password = signupPasswordInput.value.trim();
  const confirmPassword = confirmPasswordInput.value.trim();
  if(name === '') {
    showError(signupNameInput, nameError, 'Full name is required');
    isValid = false;
  } else if(name.length < 2) {
    showError(signupNameInput, nameError, 'Name must be at least 2 characters');
    isValid = false;
  }
  if(email === '') {
    showError(signupEmailInput, signupEmailError, 'Email address is required');
    isValid = false;
  } else if(!validateEmail(email)) {
    showError(signupEmailInput, signupEmailError, 'Please enter a valid email address');
    isValid = false;
  }
  if(password === '') {
    showError(signupPasswordInput, signupPasswordError, 'Password is required');
    isValid = false;
  } else if(password.length < 8) {
    showError(signupPasswordInput, signupPasswordError, 'Password must be at least 8 characters');
    isValid = false;
  }
  if(confirmPassword === '') {
    showError(confirmPasswordInput, confirmPasswordError, 'Please confirm your password');
    isValid = false;
  } else if(password !== confirmPassword) {
    showError(confirmPasswordInput, confirmPasswordError, 'Passwords do not match');
    isValid = false;
  }
  if(isValid) {
    registeredUsers = loadUsers();
    if(registeredUsers.some(u => u.email === email)) {
      showError(signupEmailInput, signupEmailError, 'Email already registered. Please log in.');
      return;
    }
    registeredUsers.push({name: name, email: email, password: password});
    saveUsers(registeredUsers);
    signupSuccessMessage.textContent = 'Account created successfully! Redirecting to login...';
    signupSuccessMessage.classList.add('show');
    signupForm.reset();
    setTimeout(() => {
      signupSuccessMessage.classList.remove('show');
      signupCard.style.display = 'none';
      loginCard.style.display = 'block';
    }, 2000);
  }
});
signupLink.addEventListener('click', e => {
  e.preventDefault();
  loginCard.style.display = 'none';
  signupCard.style.display = 'block';
});
loginLink.addEventListener('click', e => {
  e.preventDefault();
  signupCard.style.display = 'none';
  loginCard.style.display = 'block';
});
document.getElementById('otpForm').addEventListener('submit', e => {
  e.preventDefault();
  clearError(otpInput, otpError);
  let isValid = true;
  const userOtp = otpInput.value.trim();
  const storedOtp = sessionStorage.getItem('pendingOtp');
  const userInfo = JSON.parse(sessionStorage.getItem('pendingUser'));
  if(userOtp === '') {
    showError(otpInput, otpError, 'OTP code is required');
    isValid = false;
  } else if(userOtp.length !== 6) {
    showError(otpInput, otpError, 'OTP must be 6 digits');
    isValid = false;
  }
  if(isValid) {
    if(userOtp === storedOtp) {
      otpSuccessMessage.textContent = `OTP Verified! Welcome back, ${userInfo.name}!`;
      otpSuccessMessage.classList.add('show');
      sessionStorage.removeItem('pendingOtp');
      sessionStorage.removeItem('pendingUser');
      otpInput.value = '';
      setTimeout(() => {
        window.location.href = 'detail.html';
      }, 1500);
    } else {
      showError(otpInput, otpError, 'Invalid OTP! Please try again.');
    }
  }
});
backToLogin.addEventListener('click', e => {
  e.preventDefault();
  sessionStorage.removeItem('pendingOtp');
  sessionStorage.removeItem('pendingUser');
  otpCard.style.display = 'none';
  loginCard.style.display = 'block';
  otpInput.value = '';
  clearError(otpInput, otpError);
  otpSuccessMessage.textContent = '';
  otpSuccessMessage.classList.remove('show');
});
</script>

</body>
</html>
